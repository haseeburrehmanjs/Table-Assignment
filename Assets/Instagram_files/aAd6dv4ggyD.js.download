;/*FB_PKG_DELIM*/

__d("PolarisLexicalMentionsPlugin.new.react",["Lexical","LexicalComposerContext","LexicalUtils","PolarisIGUsernameRegex","PolarisLexicalMentionNode","last","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.unstable_useMemoCache;e="([a-zA-Z0-9_.]+)";var k=new RegExp(d("PolarisIGUsernameRegex").MENTIONS_PRE+d("PolarisIGUsernameRegex").MENTIONS_MARKER+e,"ig"),l=new RegExp(e,"i");function a(){var a=j(3),b=d("LexicalComposerContext").useLexicalComposerContext(),e=b[0],f;a[0]!==e?(b=function(){var a=function(a){a=a.getPreviousSibling();return a===null||d("Lexical").$isLineBreakNode(a)||d("Lexical").$isTextNode(a)&&c("last")(new String(a.getTextContent()))===" "};return d("LexicalUtils").mergeRegister(e.registerNodeTransform(d("Lexical").TextNode,function(b){if(!b.isSimpleText())return;var e=b.getTextContent(),f=b,g=b.getPreviousSibling();if(d("PolarisLexicalMentionNode").$isPolarisLexicalMentionNode(g)){var h=l.exec(e);if(h!==null&&h.index===0){h=h[0];var i=d("Lexical").$getSelection();i=d("Lexical").$isRangeSelection(i)&&i.isCollapsed()&&(i.anchor.getNode().is(g)&&i.anchor.offset===g.getTextContentSize()||i.anchor.getNode().is(b)&&i.anchor.offset===0);f=b.spliceText(0,h.length,"");var j=g.getTextContentSize();g.spliceText(j,0,h);i&&g.select(j,j)}}h=b.getNextSibling();d("PolarisLexicalMentionNode").$isPolarisLexicalMentionNode(h)&&c("last")(new String(e))!==" "&&(f=f.spliceText(f.getTextContentSize(),0,h.getTextContent()),h.remove());i=f.getTextContent();g=f;var m;j=0;while((e=k.exec(i))!==null&&e!==null){h=e[2]+e[3];f=e.index+e[1].length;if(f===0&&!a(b))continue;if(f===0){e=g.splitText(0,h.length);m=e[0];g=e[1]}else{e=g.splitText(f-j,f-j+h.length);var n=e[1];e=e[2];m=n;g=e}j=f+h.length;m.replace(d("PolarisLexicalMentionNode").$createPolarisLexicalMentionNode(h))}}),e.registerNodeTransform(d("PolarisLexicalMentionNode").PolarisLexicalMentionNode,function(b){var c=b.getTextContent(),e=c.match(k);(e===null||e.length!==1||e[0]!==c||!a(b))&&b.replace(d("Lexical").$createTextNode(b.getTextContent()))}))},f=[e],a[0]=e,a[1]=b,a[2]=f):(b=a[1],f=a[2]);i(b,f);return null}g["default"]=a}),98);
__d("BillingPlatformContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext("desktop");c=b;g["default"]=c}),98);
;/*FB_PKG_DELIM*/

__d("usePolarisCreateInboxTrayItemSubmitMutation.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],b=[{kind:"Variable",name:"request",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"inbox_tray_item_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"inbox_tray_item_type",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"num_pog_users",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"usePolarisCreateInboxTrayItemSubmitMutation",selections:[{alias:null,args:b,concreteType:"XDTCreateInboxTrayItemResponse",kind:"LinkedField",name:"xdt_create_inbox_tray_item",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTInboxTrayItem",kind:"LinkedField",name:"inbox_tray_item",plural:!1,selections:[c,d,{alias:null,args:null,concreteType:"XDTInboxTrayItemPogInfo",kind:"LinkedField",name:"pog_info",plural:!1,selections:[e,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"pog_users",plural:!0,selections:[f],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisInboxTrayItem_trayItem"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"usePolarisCreateInboxTrayItemSubmitMutation",selections:[{alias:null,args:b,concreteType:"XDTCreateInboxTrayItemResponse",kind:"LinkedField",name:"xdt_create_inbox_tray_item",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTInboxTrayItem",kind:"LinkedField",name:"inbox_tray_item",plural:!1,selections:[c,d,{alias:null,args:null,concreteType:"XDTInboxTrayItemPogInfo",kind:"LinkedField",name:"pog_info",plural:!1,selections:[e,{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"pog_users",plural:!0,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTLazyNoteDict",kind:"LinkedField",name:"note_dict",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"note_style",storageKey:null},{alias:null,args:null,concreteType:"XDTNoteResponseInfo",kind:"LinkedField",name:"note_response_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicNoteResponseInfo",kind:"LinkedField",name:"music_note_response_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTMusicInfo",kind:"LinkedField",name:"music_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"music_asset_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_explicit",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"progressive_download_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web_30s_preview_download_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cover_artwork_uri",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTMusicConsumptionInfoDict",kind:"LinkedField",name:"music_consumption_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_asset_start_time_in_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_mute_audio",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XDTNotePogVideoResponseInfo",kind:"LinkedField",name:"note_pog_video_response_info",plural:!1,selections:[{alias:null,args:null,concreteType:"XDTNotePogVideoDict",kind:"LinkedField",name:"video_dict",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,concreteType:"XDTVideoVersion",kind:"LinkedField",name:"video_versions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},f],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_emoji_only",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"7928499717178406",metadata:{},name:"usePolarisCreateInboxTrayItemSubmitMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("IGDShell.react",["BaseTheme.react","IGDSBox.react","IGDThemeConfig","PolarisBaseShell.react","PolarisCallGatingHelpers","PolarisConfig","PolarisQPConstants","PolarisQPManager.react","PolarisReactRedux.react","PolarisSwitchAccountsModal.react","PolarisToastWrapper.react","VideoPlayerGlobalComponents.react","cr:1005","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("PolarisIncomingCall.react").__setRef("IGDShell.react")),k=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectVerifiedUserCallingNotEnabledModal.react").__setRef("IGDShell.react")),l=c("deferredLoadComponent")(c("requireDeferred")("PolarisDirectVerifiedUserCallingNotFollowingModal.react").__setRef("IGDShell.react")),m={desktopContent:{backgroundColor:"xnz67gz",flexGrow:"x1iyjqo2",height:"x5yr21d",maxHeight:"xmz0i5r",paddingTop:"xlnp5zw",$$css:!0},root:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(a){a=a.children;var e=d("PolarisReactRedux.react").useSelector(function(a){return a.navigation.isAccountSwitcherOpen}),f=d("PolarisReactRedux.react").useSelector(function(a){return a.direct.verifiedUserCalling}),g=f.notEnabledModalOpen;f=f.notFollowingModalOpen;return i.jsx(c("VideoPlayerGlobalComponents.react"),{children:i.jsxs(c("PolarisBaseShell.react"),{xstyle:m.root,children:[i.jsxs(c("BaseTheme.react"),{config:c("IGDThemeConfig"),children:[i.jsxs("div",{className:"xnz67gz x1iyjqo2 x5yr21d xmz0i5r xlnp5zw",children:[g&&i.jsx(k,{}),f&&i.jsx(l,{}),i.jsxs(c("IGDSBox.react"),{height:"100vh",position:"relative",width:"100%",children:[b("cr:1005")!=null?i.jsxs(b("cr:1005"),{children:[d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&i.jsx(j,{}),a]}):i.jsxs(i.Fragment,{children:[d("PolarisCallGatingHelpers").isIncomingCallEnabled()&&i.jsx(j,{}),a]}),i.jsx("div",{children:i.jsx(c("PolarisToastWrapper.react"),{})})]})]}),e&&d("PolarisConfig").isLoggedIn()&&i.jsx("div",{children:i.jsx(c("PolarisSwitchAccountsModal.react"),{})})]}),i.jsx(c("PolarisQPManager.react"),{slot:d("PolarisQPConstants").SLOTS.inbox})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWInternalLog",["WALoggerDeferred","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function a(a){c("gkx")("23904")&&void d("WALoggerDeferred").LOG(h(),a)}g.internalLog=a}),98);
__d("IGDBaseButton.react",["BaseButton.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;e=b.forwardRef;var j=b.unstable_useMemoCache,k={root:{userSelect:"x87ps6o",":active_opacity":"x1d5wrs8",$$css:!0},rootDisabled:{opacity:"xuzhngd",pointerEvents:"x47corl",$$css:!0}};function a(a,b){var d=j(8),e=a.children,f=a.disabled;a=a.onClick;var g=f===!0&&k.rootDisabled,h;d[0]!==g?(h=[k.root,g],d[0]=g,d[1]=h):h=d[1];d[2]!==f||d[3]!==a||d[4]!==b||d[5]!==h||d[6]!==e?(g=i.jsx(c("BaseButton.react"),{disabled:f,onClick:a,ref:b,xstyle:h,children:e}),d[2]=f,d[3]=a,d[4]=b,d[5]=h,d[6]=e,d[7]=g):g=d[7];return g}f=e(a);g["default"]=f}),98);
__d("PolarisNotesTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({MUTUAL_FOLLOWS:0,BESTIES:1,INTERNAL:2});c=b("$InternalEnum")({EMPTY:7});d=[a.MUTUAL_FOLLOWS,a.BESTIES,a.INTERNAL];e=b("$InternalEnum")({NEW_NOTE_CTA:"new_note_cta",REPLACE_EXISTING_SELF_NOTE_CTA:"replace_existing_self_note_cta"});f.NoteAudienceOptionValues=a;f.NoteStyle=c;f.NOTE_AUDIENCE_OPTIONS=d;f.PolarisInboxTrayComposerEntrypoint=e}),66);
__d("hasNotesOnDesktop",["PolarisConfig","PolarisUA","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return d("PolarisUA").isDesktop()&&d("PolarisConfig").isLoggedIn()&&c("gkx")("25295")}g["default"]=a}),98);
__d("IGDInboxTrayContextProvider",["PolarisNotesTypes","emptyFunction","hasNotesOnDesktop","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.createContext,k=e.useCallback,l=e.useContext,m=e.useMemo,n=e.useState;e={closeComposer:c("emptyFunction"),composerEntrypoint:d("PolarisNotesTypes").PolarisInboxTrayComposerEntrypoint.NEW_NOTE_CTA,isComposerActive:!1,openComposer:c("emptyFunction")};var o=j(e);function a(a){a=a.children;var b=n(!1),e=b[0],f=b[1];b=n(d("PolarisNotesTypes").PolarisInboxTrayComposerEntrypoint.NEW_NOTE_CTA);var g=b[0],h=b[1],j=k(function(a){h(a),f(c("hasNotesOnDesktop")())},[f]),l=k(function(){f(!1)},[f]);b=m(function(){return{closeComposer:l,composerEntrypoint:g,isComposerActive:e,openComposer:j}},[l,g,e,j]);return i.jsx(o.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return l(o)}g.IGDInboxTrayContextProvider=a;g.usePolarisInboxTrayContext=b}),98);
__d("MLCContentEditableCommands",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";a=d("Lexical").createCommand();g.MLC_EDITOR_ARIA_COMMAND=a}),98);
__d("MLCContentEditable.react",["cx","Lexical","LexicalComposerContext","MLCContentEditableCommands","joinClasses","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useCallback,m=b.useLayoutEffect,n=b.useState,o={editor:{color:"xzsf02u",overflowX:"xw2csxc",overflowY:"x1odjw0f",position:"x1n2onr6",tabSize:"x1hnll1o",":focus-visible_outline":"xpqswwc",$$css:!0}};function a(a){var b=a.ariaAutoComplete,e=a.ariaDescribedBy,f=a.ariaExpanded,g=a.ariaLabel,h=a.ariaLabelledBy,j=a.ariaMultiline,p=a.ariaOwnerID,q=a.ariaRequired,r=a.autoCapitalize,s=a.autoComplete,t=a.autoCorrect,u=a["data-testid"];u=u===void 0?"mlc-content-editable":u;u=a.id;var v=a.readOnly;v=v===void 0?!1:v;var w=a.role;w=w===void 0?"textbox":w;var x=a.spellCheck;x=x===void 0?!0:x;var y=a.tabIndex;a=a.xstyle;var z=d("LexicalComposerContext").useLexicalComposerContext(),A=z[0];z=n(!v);v=z[0];var B=z[1];z=l(function(a){A.setRootElement(a)},[A]);var C=n(void 0),D=C[0],E=C[1];C=n(void 0);var F=C[0],G=C[1];m(function(){B(A.isEditable());return A.registerEditableListener(B)},[A]);m(function(){return A.registerCommand(d("MLCContentEditableCommands").MLC_EDITOR_ARIA_COMMAND,function(a){Object.prototype.hasOwnProperty.call(a,"activeDescendantID")&&E(a.activeDescendantID);Object.prototype.hasOwnProperty.call(a,"controlsID")&&G(a.controlsID);return!1},d("Lexical").COMMAND_PRIORITY_EDITOR)},[A]);return k.jsx("div",{"aria-activedescendant":v?D:null,"aria-autocomplete":v?b:null,"aria-controls":v?F:null,"aria-describedby":e,"aria-expanded":v?w==="combobox"?!!f:null:null,"aria-label":g,"aria-labelledby":h,"aria-multiline":j,"aria-owns":v?p:null,"aria-required":q,autoCapitalize:r,autoComplete:s,autoCorrect:t,className:c("joinClasses")((i||(i=c("stylex")))(o.editor,a),v?"notranslate":""),contentEditable:v,"data-testid":void 0,id:u,ref:z,role:v?w:null,spellCheck:x,suppressContentEditableWarning:!0,tabIndex:y})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisInboxTrayBubble.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={base:{alignItems:"x6s0dn4",display:"x78zum5",position:"x10l6tqk",top:"x13vifvy",width:"xezivpi",zIndex:"x1vjfegm",$$css:!0},medium:{maxWidth:"xj7dor9",minWidth:"xz0mmh2",$$css:!0}},m={base:{alignItems:"x6s0dn4",backgroundColor:"xgf5ljw",boxSizing:"x9f619",display:"x78zum5",filter:"x13b9bq5",maxWidth:"x193iq5w",textAlign:"x2b8uid",wordBreak:"x13faqbe","::after_backgroundColor":"x1egfp5y","::after_borderTopStartRadius":"x194ut8o","::after_borderTopEndRadius":"x1vzenxt","::after_borderBottomEndRadius":"xd7ygy7","::after_borderBottomStartRadius":"xt298gk","::after_content":"x1s928wv","::after_position":"x1j6awrg",$$css:!0},medium:{borderTopStartRadius:"xhw592a",borderTopEndRadius:"xwihvcr",borderBottomEndRadius:"x7wuybg",borderBottomStartRadius:"xb9tvrk",fontSize:"xxt2rmt",lineHeight:"xc7aqrk",minHeight:"xgujvf1",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha","::after_bottom":"xdb1ctf","::after_boxShadow":"xkbxmj","::after_height":"x1bymyaz","::after_start":"xv60zni","::after_left":null,"::after_right":null,"::after_width":"xg4xgkf",$$css:!0}};function a(a){var b=j(12),d=a.bubbleXstyleOverride,e=a.children,f=a.containerXstyleOverride;a=a.size;a=a===void 0?"medium":a;var g=l[a],i;b[0]!==g||b[1]!==f?(i=(h||(h=c("stylex")))(l.base,g,f),b[0]=g,b[1]=f,b[2]=i):i=b[2];g=m[a];b[3]!==g||b[4]!==d?(f=(h||(h=c("stylex")))(m.base,g,d),b[3]=g,b[4]=d,b[5]=f):f=b[5];b[6]!==f||b[7]!==e?(a=k.jsx("div",{className:f,children:e}),b[6]=f,b[7]=e,b[8]=a):a=b[8];b[9]!==i||b[10]!==a?(g=k.jsx("div",{className:i,children:a}),b[9]=i,b[10]=a,b[11]=g):g=b[11];return g}g["default"]=a}),98);
__d("PolarisNotesStrings",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__NPOpbgXzYdn__JHASH__");b=h._("__JHASH__M7PuF5WaIwY__JHASH__");c=h._("__JHASH__zCHJDosTCn3__JHASH__");d=h._("__JHASH__TLyiU21h-MH__JHASH__");e=h._("__JHASH__9xMQ_GBYw9O__JHASH__");f=h._("__JHASH__CQyxJcgwS0A__JHASH__");var i=h._("__JHASH__iGHXbc4-iTM__JHASH__"),j=h._("__JHASH__EDHn7n8DQZX__JHASH__");h=h._("__JHASH__niSwxToY_j5__JHASH__");g.MUTUAL_FOLLOWS_AUDIENCE_TEXT=a;g.MUTUAL_FOLLOWS_AUDIENCE_OPTION_TEXT=b;g.CLOSE_FRIENDS_AUDIENCE_OPTION_TEXT=c;g.INTERNAL_AUDIENCE_TEXT=d;g.INTERNAL_AUDIENCE_OPTION_TEXT=e;g.COMPOSER_PLACEHOLDER_TEXT=f;g.LEAVE_A_NEW_NOTE=i;g.DELETE_NOTE=j;g.SEND_MESSAGE_PLACEHOLDER=h}),98);
__d("getNotesAudienceStrings",["PolarisNotesStrings","PolarisNotesTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case d("PolarisNotesTypes").NoteAudienceOptionValues.MUTUAL_FOLLOWS:return d("PolarisNotesStrings").MUTUAL_FOLLOWS_AUDIENCE_OPTION_TEXT;case d("PolarisNotesTypes").NoteAudienceOptionValues.BESTIES:return d("PolarisNotesStrings").CLOSE_FRIENDS_AUDIENCE_OPTION_TEXT;case d("PolarisNotesTypes").NoteAudienceOptionValues.INTERNAL:return d("PolarisNotesStrings").INTERNAL_AUDIENCE_OPTION_TEXT}}function b(a){switch(a){case d("PolarisNotesTypes").NoteAudienceOptionValues.MUTUAL_FOLLOWS:return d("PolarisNotesStrings").MUTUAL_FOLLOWS_AUDIENCE_TEXT;case d("PolarisNotesTypes").NoteAudienceOptionValues.BESTIES:return d("PolarisNotesStrings").CLOSE_FRIENDS_AUDIENCE_OPTION_TEXT;case d("PolarisNotesTypes").NoteAudienceOptionValues.INTERNAL:return d("PolarisNotesStrings").INTERNAL_AUDIENCE_TEXT}}g.getNoteAudienceOptionString=a;g.getComposerSharedWithNoteAudienceString=b}),98);
__d("PolarisInboxTrayComposerAudienceOption.react",["fbt","CometPressable.react","IGDSBox.react","IGDSChevronDownPanoOutline24Icon.react","IGDSLazyPopoverTrigger.react","IGDSText.react","IGDSUsersPanoOutline24Icon.react","JSResourceForInteraction","PolarisGenericStrings","emptyFunction","getNotesAudienceStrings","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={root:{alignItems:"x1pha0wt",marginTop:"x105sa6i",$$css:!0}},m=h._("__JHASH__OVFYjvv1bhM__JHASH__"),n=c("JSResourceForInteraction")("PolarisInboxTrayComposerAudienceMenu.react").__setRef("PolarisInboxTrayComposerAudienceOption.react");function a(a){var b=j(8),e=a.onSelectAudienceOption,f=a.selectedAudienceOption;b[0]!==e||b[1]!==f?(a={onClose:c("emptyFunction"),onSelectAudienceOption:e,selectedAudienceOption:f},b[0]=e,b[1]=f,b[2]=a):a=b[2];b[3]!==f?(e=function(a,b){var e;return k.jsx(e=c("IGDSBox.react"),{alignItems:"start",direction:"row",display:"flex",marginBottom:2,xstyle:l.root,children:k.jsx(c("CometPressable.react"),{onPress:b,overlayDisabled:!0,ref:a,children:k.jsxs(e,{direction:"row",display:"flex",children:[k.jsx(e,{children:k.jsx(c("IGDSUsersPanoOutline24Icon.react"),{alt:m,color:"ig-primary-icon",size:14})}),k.jsx(e,{marginEnd:1,marginStart:1,children:k.jsx(c("IGDSText.react"),{children:h._("__JHASH__ATmNkv-vAk0__JHASH__",[h._param("Text specifying the audience the note will be shared with",k.jsx("b",{children:d("getNotesAudienceStrings").getComposerSharedWithNoteAudienceString(f)}))])})}),k.jsx(c("IGDSChevronDownPanoOutline24Icon.react"),{alt:d("PolarisGenericStrings").DOWN_CHEVRON_ALT,color:"ig-primary-icon",size:14})]})})})},b[3]=f,b[4]=e):e=b[4];var g;b[5]!==a||b[6]!==e?(g=k.jsx(c("IGDSLazyPopoverTrigger.react"),{align:"middle",popoverProps:a,popoverResource:n,popoverType:"menu",preloadTrigger:"button",children:e}),b[5]=a,b[6]=e,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("MLCFocusPlugin.react",["Lexical","LexicalComposerContext","LexicalUtils","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");c=b.forwardRef;var i=b.useEffect,j=b.useImperativeHandle;function a(a,b){var c=a.onBlur,e=a.onEscape,f=a.onFocus;a=d("LexicalComposerContext").useLexicalComposerContext();var g=a[0];j(b,function(){return{focus:function(){return g.focus()},blur:function(){return g.blur()}}});i(function(){var a;return d("LexicalUtils").mergeRegister(g.registerCommand((a=d("Lexical")).BLUR_COMMAND,function(a){c!=null&&c(a);return!1},a.COMMAND_PRIORITY_LOW),g.registerCommand(a.FOCUS_COMMAND,function(a){f!=null&&f(a);return!1},a.COMMAND_PRIORITY_LOW),g.registerCommand(a.KEY_ESCAPE_COMMAND,function(a){e!=null&&e(a);return!1},a.COMMAND_PRIORITY_LOW))},[g,c,e,f]);return null}e=c(a);g["default"]=e}),98);
__d("MLCHistoryPlugin.react",["LexicalHistoryPlugin","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=c.useMemo,l=e({historyState:void 0});function m(){return j(l)}function a(a){a=a.children;var b=k(function(){return{historyState:d("LexicalHistoryPlugin").createEmptyHistoryState()}},[]);return i.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=m();a=a.historyState;return i.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{externalHistoryState:a})}b.displayName=b.name+" [from "+f.id+"]";g.SharedHistoryContext=a;g.MLCHistoryPlugin=b}),98);
__d("PolarisInboxTrayComposerContextProvider",["PolarisNotesTypes","QPLUserFlow","emptyFunction","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.createContext,k=e.useCallback,l=e.useContext,m=e.useMemo,n=e.useState;e={audienceOption:d("PolarisNotesTypes").NoteAudienceOptionValues.MUTUAL_FOLLOWS,isEmojiTrayOpen:!1,noteText:"",noteTextLength:0,setAudienceOption:c("emptyFunction"),setEmojiTrayOpen:c("emptyFunction"),setNoteText:c("emptyFunction"),setNoteTextLength:c("emptyFunction")};var o=j(e);function a(a){a=a.children;var b=n(0),e=b[0],f=b[1];b=n(d("PolarisNotesTypes").NoteAudienceOptionValues.MUTUAL_FOLLOWS);var g=b[0],h=b[1];b=n(!1);var j=b[0],l=b[1];b=n("");var p=b[0],q=b[1],r=k(function(a){f(a)},[f]),s=k(function(a){h(a)},[h]),t=k(function(a){l(a)},[l]),u=k(function(a){q(function(b){b===""&&a!==""&&c("QPLUserFlow").addPoint(c("qpl")._(379203828,"2170"),"text_added");return a})},[q]);b=m(function(){return{audienceOption:g,isEmojiTrayOpen:j,noteText:p,noteTextLength:e,setAudienceOption:s,setEmojiTrayOpen:t,setNoteText:u,setNoteTextLength:r}},[g,j,e,p,s,t,u,r]);return i.jsx(o.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return l(o)}g.PolarisInboxTrayComposerContextProvider=a;g.usePolarisInboxTrayComposerContext=b}),98);
__d("PolarisInboxTrayComposerListenerPlugin.react",["Lexical","LexicalComposerContext","PolarisInboxTrayComposerContextProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.unstable_useMemoCache;function a(){var a=j(5),b=d("LexicalComposerContext").useLexicalComposerContext(),c=b[0];b=d("PolarisInboxTrayComposerContextProvider").usePolarisInboxTrayComposerContext();var e=b.setNoteText,f=b.setNoteTextLength,g;a[0]!==c||a[1]!==f||a[2]!==e?(b=function(){c.registerUpdateListener(function(a){a=a.editorState;a.read(function(){f(d("Lexical").$getRoot().getTextContentSize()),e(d("Lexical").$getRoot().getTextContent())})})},g=[c,e,f],a[0]=c,a[1]=f,a[2]=e,a[3]=b,a[4]=g):(b=a[3],g=a[4]);i(b,g);return null}g["default"]=a}),98);
__d("PolarisLexicalHashtagNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"hashtag"};a.clone=function(b){return new a(b.__text,b.__key)};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{type:this.getType(),version:1})};function a(a,c){return b.call(this,a,c)||this}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="x7l2uk3 xt0e3qv";return a};c.isTextEntity=function(){return!0};return a}(d("Lexical").TextNode);function a(a){return new h(a)}function b(a){return a instanceof h}g.PolarisLexicalHashtagNode=h;g.$createPolarisLexicalHashtagNode=a;g.$isPolarisLexicalHashtagNode=b}),98);
__d("PolarisLexicalHashtagPlugin.react",["Lexical","LexicalComposerContext","LexicalUtils","PolarisIGHashtagRegex","PolarisIGUsernameRegex","PolarisLexicalHashtagNode","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.unstable_useMemoCache,k=d("PolarisIGHashtagRegex").getIGHashtagRegex();function a(){var a=j(3),b=d("LexicalComposerContext").useLexicalComposerContext(),c=b[0],e;a[0]!==c?(b=function(){var a=c.registerNodeTransform(d("Lexical").TextNode,function(a){if(!a.isSimpleText())return;var b=a.getTextContent();b=b.matchAll(k);for(var b=b,c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(f&&f.index!==void 0){var g=f[0].length;if(f.index===0){var h=a.splitText(f.index,f.index+g);h=h[0]}else{f=a.splitText(f.index,f.index+g);g=f[1];h=g}f=d("PolarisLexicalHashtagNode").$createPolarisLexicalHashtagNode(h.getTextContent());h.replace(f)}return}}),b=c.registerNodeTransform(d("PolarisLexicalHashtagNode").PolarisLexicalHashtagNode,function(a){var b=a.getTextContent(),c=Array.from(b.matchAll(k));if(c.length===0)a.replace(d("Lexical").$createTextNode(a.getTextContent()));else if(c.length>1)for(var e=0;e<c.length;e++){var f=c[e];f&&f.index!==void 0&&a.splitText(f.index+f[0].length)}f=b.matchAll(new RegExp(d("PolarisIGHashtagRegex").HASH_CHARS+"|"+d("PolarisIGUsernameRegex").MENTIONS_MARKER+"|\\s","gi"));for(e=f,c=Array.isArray(e),b=0,e=c?e:e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(c){if(b>=e.length)break;f=e[b++]}else{b=e.next();if(b.done)break;f=b.value}f=f;f&&f.index!==void 0&&a.splitText(f.index)}});return d("LexicalUtils").mergeRegister(a,b)},e=[c],a[0]=c,a[1]=b,a[2]=e):(b=a[1],e=a[2]);i(b,e);return null}g["default"]=a}),98);
__d("PolarisLexicalMentionsPlugin.react",["cr:2389"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:2389")}),98);
__d("PolarisLexicalMentionNode",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";var h=function(b){babelHelpers.inheritsLoose(a,b);a.getType=function(){return"mention"};a.clone=function(b){return new a(b.__text,b.__key)};var c=a.prototype;c.exportJSON=function(){return babelHelpers["extends"]({},b.prototype.exportJSON.call(this),{type:this.getType(),version:1})};function a(a,c){return b.call(this,a,c)||this}c.createDOM=function(a){a=b.prototype.createDOM.call(this,a);a.className="x7l2uk3 xt0e3qv";return a};c.isTextEntity=function(){return!0};c.canInsertTextBefore=function(){return!1};return a}(d("Lexical").TextNode);function a(a){return new h(a)}function b(a){return a instanceof h}g.PolarisLexicalMentionNode=h;g.$createPolarisLexicalMentionNode=a;g.$isPolarisLexicalMentionNode=b}),98);
__d("PolarisLexicalTypeaheadContainer.react",["InstagramWebPushInfo","InstagramWebTypeaheadResultSelectFalcoEvent","Lexical","LexicalComposerContext","LexicalUtils","PolarisLexicalHashtagNode","PolarisLexicalMentionNode","PolarisLogger","PolarisReactRedux.react","PolarisSearchActions","PolarisSearchConstants","PolarisTypeaheadContainer.react","polarisSearchSelectors","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useEffect,m=b.useMemo,n=b.useState,o={typeaheadAttempt:"typeaheadAttempt",typeaheadClickSuccess:"typeaheadClickSuccess"},p={above:{bottom:"x10w3d4m",$$css:!0},below:{top:"xdsb8wn",$$css:!0},typeahead:{backgroundColor:"xvbhtw8",boxShadow:"x122emky",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function a(a){var b=a.isDisabled;b=b===void 0?!1:b;var e=a.position;e=e===void 0?"below":e;a=a.xstyle;var f=d("PolarisReactRedux.react").useDispatch(),g=d("PolarisReactRedux.react").useSelector(function(a){return d("polarisSearchSelectors").getCurrentSearchContent(a)}),i=d("LexicalComposerContext").useLexicalComposerContext(),o=i[0];i=n(null);var r=i[0],s=i[1];i=n(d("PolarisSearchConstants").SEARCH_CONTEXT.BLENDED);var t=i[0],u=i[1],v=k(function(a){var b="";switch(a.type){case d("PolarisSearchConstants").HASHTAG_RESULT:b=a.name;break;case d("PolarisSearchConstants").USER_RESULT:b=a.username;break}o.update(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a))return;a=a.focus.getNode();if(d("PolarisLexicalMentionNode").$isPolarisLexicalMentionNode(a)||d("PolarisLexicalHashtagNode").$isPolarisLexicalHashtagNode(a)){var c=a.getTextContent()[0];c=b!==""?""+c+b:a.getTextContent();a.setTextContent(c);c=a.getNextSibling();(c==null||c.getTextContent()[0]!==" ")&&a.insertAfter(d("Lexical").$createTextNode(" "));a.selectNext()}s(null)})},[o]),w=m(function(){switch(t){case d("PolarisSearchConstants").SEARCH_CONTEXT.USER:return g.results.filter(function(a){return a.type===d("PolarisSearchConstants").USER_RESULT});case d("PolarisSearchConstants").SEARCH_CONTEXT.HASHTAG:return g.results.filter(function(a){return a.type===d("PolarisSearchConstants").HASHTAG_RESULT});default:return g.results}},[g,t]);l(function(){var a;return d("LexicalUtils").mergeRegister(o.registerUpdateListener(function(a){a=a.editorState;a.read(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a)||!a.isCollapsed())return;a=a.focus.getNode();if(d("PolarisLexicalMentionNode").$isPolarisLexicalMentionNode(a)||d("PolarisLexicalHashtagNode").$isPolarisLexicalHashtagNode(a)){d("PolarisLexicalMentionNode").$isPolarisLexicalMentionNode(a)?u(d("PolarisSearchConstants").SEARCH_CONTEXT.USER):d("PolarisLexicalHashtagNode").$isPolarisLexicalHashtagNode(a)&&u(d("PolarisSearchConstants").SEARCH_CONTEXT.HASHTAG);a=a.getTextContent().slice(1);s(a)}else s(null)})}),o.registerCommand((a=d("Lexical")).KEY_ARROW_DOWN_COMMAND,function(a){if(r==null)return!1;a.preventDefault();var b=g.loading,c=g.selectedIndex;r!=null&&!a.altKey&&(w.length>0||b)&&f(d("PolarisSearchActions").selectResult(c!=null&&c<w.length-1?c+1:0,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD));return!1},a.COMMAND_PRIORITY_LOW),o.registerCommand(a.KEY_ARROW_UP_COMMAND,function(a){if(r==null)return!1;a.preventDefault();a=g.selectedIndex;a!=null&&a>0&&f(d("PolarisSearchActions").selectResult(a-1,d("PolarisSearchConstants").SEARCH_SELECTED_METHOD.SELECTED_WITH_KEYBOARD));return!1},a.COMMAND_PRIORITY_LOW),o.registerCommand(a.KEY_ENTER_COMMAND,function(a){a==null?void 0:a.preventDefault();a=g.selectedIndex;if(r!=null&&w!=null&&w.length>0&&a!=null){a=w[a];v(a);q(t);return!0}return!1},a.COMMAND_PRIORITY_LOW))},[f,o,w,g,v,t,r]);return!b&&r!=null?j.jsx(c("PolarisTypeaheadContainer.react"),{className:(h||(h=c("stylex")))(p.typeahead,p[e],a),cursorIndex:0,initialSearchContext:t,inputString:r,onResultSelect:v,showResultsCondensed:!0,useSearchTriggers:!1}):null}a.displayName=a.name+" [from "+f.id+"]";function q(a){d("PolarisLogger").logAction(o.typeaheadClickSuccess,{searchContext:a}),c("InstagramWebTypeaheadResultSelectFalcoEvent").log(function(){return{frontend_env:c("InstagramWebPushInfo").frontend_env,search_context:a}})}g["default"]=a}),98);
__d("PolarisInboxTrayComposerCaptionLexicalInputWrapper.react",["MLCFocusPlugin.react","MLCHistoryPlugin.react","PolarisInboxTrayComposerListenerPlugin.react","PolarisLexicalHashtagPlugin.react","PolarisLexicalMentionsPlugin.react","PolarisLexicalTypeaheadContainer.react","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={typeahead:{marginBottom:"xui9b5u",width:"xeq5yr9",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=i(11),e=a.children,f=a.onBlur;a=a.onFocus;f=f===void 0?c("emptyFunction"):f;a=a===void 0?c("emptyFunction"):a;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("PolarisLexicalTypeaheadContainer.react"),{position:"above",xstyle:k.typeahead}),b[0]=g):g=b[0];var h;b[1]!==f||b[2]!==a?(h=j.jsx(c("MLCFocusPlugin.react"),{onBlur:f,onFocus:a}),b[1]=f,b[2]=a,b[3]=h):h=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(d("MLCHistoryPlugin.react").MLCHistoryPlugin,{}),b[4]=f):f=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("PolarisLexicalMentionsPlugin.react"),{}),b[5]=a):a=b[5];var l;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(l=j.jsx(c("PolarisLexicalHashtagPlugin.react"),{}),b[6]=l):l=b[6];var m;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("PolarisInboxTrayComposerListenerPlugin.react"),{}),b[7]=m):m=b[7];b[8]!==e||b[9]!==h?(g=j.jsxs(j.Fragment,{children:[e,g,h,f,a,l,m]}),b[8]=e,b[9]=h,b[10]=g):g=b[10];return g}g["default"]=a}),98);
__d("usePolarisLexicalEmojiButton",["Lexical","LexicalComposerContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.unstable_useMemoCache;function a(a){var b=i(3),c=d("LexicalComposerContext").useLexicalComposerContext(),e=c[0];b[0]!==e||b[1]!==a?(c=function(b){e.update(function(){d("Lexical").$insertNodes([d("Lexical").$createTextNode(b)])}),a==null?void 0:a()},b[0]=e,b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("PolarisInboxTrayComposerEmojiPill.react",["PolarisEmojiButton.react","react","usePolarisLexicalEmojiButton"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var b=i(9),d=a.isEmojiTrayOpen,e=a.setEmojiTrayOpen;b[0]!==e?(a=function(){e(!0)},b[0]=e,b[1]=a):a=b[1];a=a;var f;b[2]!==e?(f=function(){e(!1)},b[2]=e,b[3]=f):f=b[3];f=f;f=c("usePolarisLexicalEmojiButton")(f);var g;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(g="xnz67gz xnwf7zb x40j3uw x1s7lred x15gyhx8 xqui205 x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",b[4]=g):g=b[4];b[5]!==d||b[6]!==f||b[7]!==a?(g=j.jsx("div",{className:g,children:j.jsx(c("PolarisEmojiButton.react"),{disableAutoFlip:!0,emojiTrayAlignment:"middle",emojiTrayPosition:"below",isEmojiTrayOpen:d,onEmojiClick:f,setEmojiTrayOpen:a,size:16})}),b[5]=d,b[6]=f,b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),98);
__d("PolarisInboxTrayComposerBody.react",["IGDSBox.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MLCContentEditable.react","PolarisInboxTrayBubble.react","PolarisInboxTrayComposerAudienceOption.react","PolarisInboxTrayComposerCaptionLexicalInputWrapper.react","PolarisInboxTrayComposerContextProvider","PolarisInboxTrayComposerEmojiPill.react","PolarisNotesStrings","PolarisUserAvatar.react","react","usePolarisViewer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k=160,l={bubble:{borderTopStartRadius:"x107yiy2",borderTopEndRadius:"xv8uw2v",borderBottomEndRadius:"x1tfwpuw",borderBottomStartRadius:"x2g32xy",color:"x1roi4f4",filter:"x1p4k1hf",fontSize:"xx6mgjv",lineHeight:"xq4bu3u",minHeight:"xu0aao5",paddingTop:"xz9dl7a",paddingEnd:"xn6708d",paddingBottom:"xsag5q8",paddingStart:"x1ye3gou",$$css:!0},container:{alignContent:"xc26acl",alignItems:"x6s0dn4",bottom:"xdpez57",display:"x78zum5",justifyContent:"xl56j7k",maxWidth:"xaka53j",minWidth:"x5w4yej",top:"x80663w",$$css:!0},forceMinWidth:{minWidth:"x1i9suas",$$css:!0},note:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},placeholder:{color:"xb88cxz",outline:"x1a2a7pz",pointerEvents:"x47corl",position:"x10l6tqk",start:"xyzs4uy",left:null,right:null,$$css:!0},text:{color:"x1roi4f4",fontSize:"xx6mgjv",lineHeight:"xq4bu3u",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",textAlign:"x1yc453h",$$css:!0}};function a(){var a=i(32),b=c("usePolarisViewer")(),e=d("PolarisInboxTrayComposerContextProvider").usePolarisInboxTrayComposerContext(),f=e.audienceOption,g=e.isEmojiTrayOpen,h=e.noteTextLength,m=e.setAudienceOption,n=e.setEmojiTrayOpen;a[0]!==n?(e=function(){n(!1)},a[0]=n,a[1]=e):e=a[1];e=e;var o;a[2]!==n?(o=function(){n(!1)},a[2]=n,a[3]=o):o=a[3];o=o;h=h===0&&l.forceMinWidth;var p;a[4]!==h?(p=j.jsx(c("MLCContentEditable.react"),{ariaLabel:d("PolarisNotesStrings").COMPOSER_PLACEHOLDER_TEXT,xstyle:[l.text,h]}),a[4]=h,a[5]=p):p=a[5];a[6]===Symbol["for"]("react.memo_cache_sentinel")?(h="xb88cxz x1a2a7pz x47corl x10l6tqk xyzs4uy",a[6]=h):h=a[6];a[7]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx("div",{className:h,children:d("PolarisNotesStrings").COMPOSER_PLACEHOLDER_TEXT}),a[7]=h):h=a[7];a[8]!==p?(h=j.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{contentEditable:p,ErrorBoundary:c("LexicalErrorBoundary"),placeholder:h}),a[8]=p,a[9]=h):h=a[9];p=h;a[10]===Symbol["for"]("react.memo_cache_sentinel")?(h="x6s0dn4 x78zum5 xdt5ytf x1n2onr6",a[10]=h):h=a[10];var q;a[11]!==p?(q=j.jsx(c("PolarisInboxTrayBubble.react"),{bubbleXstyleOverride:l.bubble,containerXstyleOverride:l.container,children:p}),a[11]=p,a[12]=q):q=a[12];if(a[13]!==b){p=(p=(p=b==null?void 0:b.profilePictureUrlHd)!=null?p:b==null?void 0:b.profilePictureUrl)!=null?p:"";a[13]=b;a[14]=p}else p=a[14];a[15]!==p?(b=j.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:p,size:k}),a[15]=p,a[16]=b):b=a[16];a[17]!==g||a[18]!==n?(p=j.jsx(c("PolarisInboxTrayComposerEmojiPill.react"),{isEmojiTrayOpen:g,setEmojiTrayOpen:n}),a[17]=g,a[18]=n,a[19]=p):p=a[19];a[20]!==e||a[21]!==o||a[22]!==q||a[23]!==b||a[24]!==p?(g=j.jsx("div",{className:h,children:j.jsxs(c("PolarisInboxTrayComposerCaptionLexicalInputWrapper.react"),{onBlur:e,onFocus:o,children:[q,b,p]})}),a[20]=e,a[21]=o,a[22]=q,a[23]=b,a[24]=p,a[25]=g):g=a[25];a[26]!==m||a[27]!==f?(h=j.jsx(c("PolarisInboxTrayComposerAudienceOption.react"),{onSelectAudienceOption:m,selectedAudienceOption:f}),a[26]=m,a[27]=f,a[28]=h):h=a[28];a[29]!==g||a[30]!==h?(e=j.jsxs(c("IGDSBox.react"),{alignContent:"center",alignItems:"center",direction:"column",flex:"grow",justifyContent:"center",padding:4,children:[g,h]}),a[29]=g,a[30]=h,a[31]=e):e=a[31];return e}g["default"]=a}),98);
__d("usePolarisCreateInboxTrayItemSubmit",["CometRelay","IGDInboxTrayContextProvider","PolarisInboxTrayComposerContextProvider","PolarisNotesTypes","react","usePolarisCreateInboxTrayItemSubmitMutation.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=i||d("react");c.useMemo;var j=c.unstable_useMemoCache,k=h!==void 0?h:h=b("usePolarisCreateInboxTrayItemSubmitMutation.graphql");function a(a){var b=j(11),c=a.onComplete,e=a.onError;a=d("IGDInboxTrayContextProvider").usePolarisInboxTrayContext();var f=a.closeComposer,g=a.composerEntrypoint;a=d("PolarisInboxTrayComposerContextProvider").usePolarisInboxTrayComposerContext();var h=a.audienceOption,i=a.noteText;a=d("CometRelay").useMutation(k);var l=a[0];a=a[1];var m;b[0]!==l||b[1]!==f||b[2]!==c||b[3]!==e||b[4]!==g||b[5]!==i||b[6]!==h?(m=function(){l({onCompleted:function(a){f(),c==null?void 0:c()},onError:function(){e==null?void 0:e()},optimisticUpdater:function(a){},updater:function(a){var b,c=a.getRootField("xdt_create_inbox_tray_item");if(c==null)return;a=a.getRoot().getLinkedRecord("xdt_get_inbox_tray_items",{request:{}});b=(b=a==null?void 0:a.getLinkedRecords("inbox_tray_items"))!=null?b:[];b.length>0&&g===d("PolarisNotesTypes").PolarisInboxTrayComposerEntrypoint.REPLACE_EXISTING_SELF_NOTE_CTA&&b.shift();a==null?void 0:a.setLinkedRecords([c.getLinkedRecord("inbox_tray_item")].concat(b),"inbox_tray_items")},variables:{input:{additional_params:{note_create_params:{note_style:0,text:i}},audience:h,inbox_tray_item_type:"note"}}})},b[0]=l,b[1]=f,b[2]=c,b[3]=e,b[4]=g,b[5]=i,b[6]=h,b[7]=m):m=b[7];var n;b[8]!==m||b[9]!==a?(n=[m,a],b[8]=m,b[9]=a,b[10]=n):n=b[10];m=n;a=m;return a}g["default"]=a}),98);
__d("PolarisInboxTrayComposerHeader.react",["fbt","IGDInboxTrayContextProvider","IGDSBox.react","IGDSButton.react","IGDSIconButton.react","IGDSText.react","IGDSXPanoOutlineIcon.react","PolarisGenericStrings","PolarisInboxTrayComposerContextProvider","QPLUserFlow","qpl","react","usePolarisCreateInboxTrayItemSubmit"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l=h._("__JHASH__CAafbI-M0Kd__JHASH__"),m=h._("__JHASH__OUi7HEg4gdr__JHASH__"),n={header:{borderBottomColor:"x1bs97v6",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",height:"xnxb3zj",$$css:!0}};function a(){var a=j(15),b=d("IGDInboxTrayContextProvider").usePolarisInboxTrayContext();b=b.closeComposer;var e=d("PolarisInboxTrayComposerContextProvider").usePolarisInboxTrayComposerContext();e=e.noteTextLength;var f,g;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=function(){c("QPLUserFlow").endSuccess(c("qpl")._(379203828,"2170"))},g=function(){c("QPLUserFlow").endFailure(c("qpl")._(379203828,"2170"),"share_failed")},a[0]=f,a[1]=g):(f=a[0],g=a[1]);f=c("usePolarisCreateInboxTrayItemSubmit")({onComplete:f,onError:g});var h=f[0];g=f[1];a[2]!==h?(f=function(){h()},a[2]=h,a[3]=f):f=a[3];f=f;var i;a[4]===Symbol["for"]("react.memo_cache_sentinel")?(i=k.jsx(c("IGDSXPanoOutlineIcon.react"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"ig-primary-text",size:16}),a[4]=i):i=a[4];a[5]!==b?(i=k.jsx(c("IGDSIconButton.react"),{onClick:b,padding:0,children:i}),a[5]=b,a[6]=i):i=a[6];a[7]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",justifyContent:"center",children:k.jsx(c("IGDSText.react"),{color:"primaryText",size:"title",weight:"bold",children:m})}),a[7]=b):b=a[7];e=e===0;var o;a[8]!==e||a[9]!==g||a[10]!==f?(o=k.jsx(c("IGDSButton.react"),{display:"block",isDisabled:e,isLoading:g,label:l,onClick:f,variant:"primary_link"}),a[8]=e,a[9]=g,a[10]=f,a[11]=o):o=a[11];a[12]!==i||a[13]!==o?(e=k.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",justifyContent:"between",padding:4,xstyle:n.header,children:[i,b,o]}),a[12]=i,a[13]=o,a[14]=e):e=a[14];return e}g["default"]=a}),98);
__d("LexicalComposer",["cr:427"],(function(a,b,c,d,e,f){e.exports=b("cr:427")}),null);
__d("MLCMetadataContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=i.createContext({surface:null});function a(a){var b=a.surface;a=a.children;return i.jsx(k.Provider,{value:{surface:b},children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(){return j(k)}g.MLCMetadataProvider=a;g.useMLCMetadata=b}),98);
__d("MLCComposer.react",["LexicalComposer","MLCInstrumentationPluginDeferred__INTERNAL.react","MLCMetadataContext.react","mlcErrorHandler__INTERNAL","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=a.children,e=a.typingPerformanceID;a=a.initialConfig;var f=a.editor,g=a.editorState,h=a.policyProduct;a=a.surface;g=babelHelpers["extends"]({},f,{editorState:g,namespace:a,onError:function(a,b){return c("mlcErrorHandler__INTERNAL")(a,b,function(c){f.onError(a,c,b)})}});return i.jsxs(d("LexicalComposer").LexicalComposer,{initialConfig:g,children:[c("MLCInstrumentationPluginDeferred__INTERNAL.react")&&i.jsx(c("MLCInstrumentationPluginDeferred__INTERNAL.react"),{typingPerformanceID:e,policyProduct:h,surface:a}),i.jsx(d("MLCMetadataContext.react").MLCMetadataProvider,{surface:a,children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisInboxTrayLexicalComposerWrapper.react",["FBLogger","Lexical","MLCComposer.react","PolarisLexicalHashtagNode","PolarisLexicalMentionNode","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.unstable_useMemoCache;function a(a){var b=j(7),e=a.children,f=a.initialFocus;a=a.initialText;var g=f===void 0?!0:f,h=a===void 0?"":a;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={editable:!0,nodes:[d("PolarisLexicalMentionNode").PolarisLexicalMentionNode,d("PolarisLexicalHashtagNode").PolarisLexicalHashtagNode],onError:function(a){c("FBLogger")("ig_web").warn(String(a))}},b[0]=f):f=b[0];b[1]!==h||b[2]!==g?(a={editor:f,editorState:function(){var a=d("Lexical").$getRoot();a.append(d("Lexical").$createParagraphNode().append(d("Lexical").$createTextNode(h)));g===!0&&a.selectEnd()},policyProduct:"instagram",surface:"INSTAGRAM_WEB"},b[1]=h,b[2]=g,b[3]=a):a=b[3];f=a;a=f;b[4]!==a||b[5]!==e?(f=i.jsx(c("MLCComposer.react"),{initialConfig:a,children:e}),b[4]=a,b[5]=e,b[6]=f):f=b[6];return f}g["default"]=a}),98);
__d("PolarisInboxTrayComposer.react",["IGDSBox.react","PolarisInboxTrayComposerBody.react","PolarisInboxTrayComposerContextProvider","PolarisInboxTrayComposerHeader.react","PolarisInboxTrayLexicalComposerWrapper.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h,k={root:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function a(){var a=i(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("PolarisInboxTrayComposerHeader.react"),{}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx(c("PolarisInboxTrayLexicalComposerWrapper.react"),{children:j.jsx(d("PolarisInboxTrayComposerContextProvider").PolarisInboxTrayComposerContextProvider,{children:j.jsxs(c("IGDSBox.react"),{alignItems:"stretch",direction:"column",justifyContent:"start",xstyle:k.root,children:[b,j.jsx(c("PolarisInboxTrayComposerBody.react"),{})]})})}),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("IGDMaster.react",["I64","IGDInboxTrayContextProvider","IGDNullState.react","IGDOpenThreadContainer.react","IGDRouteProvider.react","LSMessagingThreadTypeUtil","PolarisInboxTrayComposer.react","cr:5493","react","useForceUpdate","useMaybeAddE2EEAnnotations"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useLayoutEffect,l=e.useRef,m=e.unstable_useMemoCache;function a(){var a=m(4),e=d("IGDRouteProvider.react").useThreadKeyFromCurrentRoute(),f=d("IGDRouteProvider.react").useThreadTypeFromCurrentRoute(),g=d("IGDInboxTrayContextProvider").usePolarisInboxTrayContext(),h=g.isComposerActive;c("useMaybeAddE2EEAnnotations")();a[0]!==h||a[1]!==e||a[2]!==f?(g=function(){if(h)return j.jsx(c("PolarisInboxTrayComposer.react"),{});if(e==null)return j.jsx(c("IGDNullState.react"),{});var a=f!=null?d("LSMessagingThreadTypeUtil").isSecure(f):!1;return a?!b("cr:5493")?j.jsx(c("IGDNullState.react"),{}):j.jsx(b("cr:5493"),{threadKey:e},(i||(i=d("I64"))).to_string(e)):j.jsx(c("IGDOpenThreadContainer.react"),{threadKey:e},(i||(i=d("I64"))).to_string(e))},a[0]=h,a[1]=e,a[2]=f,a[3]=g):g=a[3];a=g;return n(e,a)}function n(a,b){var e=m(10),f;e[0]!==a?(f=a!=null?(i||(i=d("I64"))).to_string(a):void 0,e[0]=a,e[1]=f):f=e[1];var g=f,h=l(g);a=l(null);var j=c("useForceUpdate")();f=d("IGDInboxTrayContextProvider").usePolarisInboxTrayContext();var n=f.closeComposer,o=f.isComposerActive,p;e[2]!==g||e[3]!==o||e[4]!==n||e[5]!==j?(f=function(){h.current!==g&&(h.current=g,o&&n(),window.requestAnimationFrame(j))},p=[j,g,o,n],e[2]=g,e[3]=o,e[4]=n,e[5]=j,e[6]=f,e[7]=p):(f=e[6],p=e[7]);k(f,p);if(h.current!==g)return a.current;e[8]!==b?(f=b(),e[8]=b,e[9]=f):f=e[9];a.current=f;return a.current}g["default"]=a}),98);
__d("MWSetupPresenceReportingDeferred.react",["CometPlaceholder.react","deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("deferredLoadComponent")(c("requireDeferred")("MWSetupPresenceReporting.react").__setRef("MWSetupPresenceReportingDeferred.react"));function a(){return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(j,{})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useSubscribeToErrorTableAndShowToast",["ReQL","react","requireDeferred","translatedServerString","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect,k=c("requireDeferred")("LSUserVisibleErrorsUtil").__setRef("useSubscribeToErrorTableAndShowToast"),l=c("requireDeferred")("mwPushToast").__setRef("useSubscribeToErrorTableAndShowToast"),m={contents:!1};function a(){var a=(h||(h=c("useReStore")))();return j(function(){if(m.contents)return;m.contents=!0;var b=d("ReQL").fromTableAscending(a.table("user_visible_errors")).subscribe(function(b,d){switch(d.operation){case"add":var e=d.value;b=e.presentationStyle;if(b!=null&&b!=="toast"&&b!=="undefined")return;l.onReady(function(b){b.mwPushErrorToast({body:e.errorBodyText!=null?c("translatedServerString")(e.errorBodyText):void 0,onDismiss:function(){k.onReady(function(b){b.removeUserVisibleErrorFromTable(a,e.errorId)})},title:c("translatedServerString")(e.errorTitleText)})});return;case"put":case"delete":return}});return function(){m.contents=!1;return b()}},[a])}g["default"]=a}),98);
__d("IGDInboxRoot.react",["BaseHeadingContext","CometRouterFocusRegion.react","IGDDeviceTypeProvider.react","IGDEntryPoints","IGDInboxActiveNowTrayConversionLoggingContextProvider","IGDInboxLayout.react","IGDInboxTrayContextProvider","IGDMaster.react","MWSetupPresenceReportingDeferred.react","WebUXLoggingEntryPointContextProvider","WebUXLoggingSurfaceContextProvider","XPlatWebAudioPlaybackContextProvider.react","cr:2598","react","useGetStableCometRouterDispatcher","useSubscribeToErrorTableAndShowToast"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;var j=e.useContext,k=e.unstable_useMemoCache;function l(){var a=k(3),b=j(c("BaseHeadingContext")),d;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(d=i.jsx(c("IGDMaster.react"),{}),a[0]=d):d=a[0];b=b+1|0;a[1]!==b?(d=i.jsx(c("CometRouterFocusRegion.react"),{children:i.jsx(c("BaseHeadingContext").Provider,{children:d,value:b})}),a[1]=b,a[2]=d):d=a[2];return d}function a(a){a=a.leftRail;c("useSubscribeToErrorTableAndShowToast")();b("cr:2598")==null?void 0:b("cr:2598").useEBShadowTest();return i.jsx(d("IGDDeviceTypeProvider.react").IGDDeviceTypeProvider,{isMobile:!1,children:i.jsx(d("IGDInboxTrayContextProvider").IGDInboxTrayContextProvider,{children:i.jsx(d("useGetStableCometRouterDispatcher").CometRouterDispatcherGetterContextProvider,{children:i.jsxs(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:"inbox",children:[i.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"igd_inbox",children:i.jsx(d("IGDInboxLayout.react").IGDInboxLayoutContainer,{children:i.jsx(c("XPlatWebAudioPlaybackContextProvider.react"),{children:i.jsxs(d("IGDInboxActiveNowTrayConversionLoggingContextProvider").IGDInboxActiveNowTrayConversionLoggingContextProvider,{children:[i.jsx(d("WebUXLoggingEntryPointContextProvider").WebUXLoggingEntryPointContextProvider,{value:d("IGDEntryPoints").IGDEntryPoints.MESSAGES_TAB,children:i.jsx(d("IGDInboxLayout.react").IGDInboxLayoutLeftColumn,{children:a})}),i.jsx(d("IGDInboxLayout.react").IGDInboxLayoutContentArea,{children:i.jsx(l,{})})]})})})}),i.jsx(c("MWSetupPresenceReportingDeferred.react"),{})]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("IGDMessageRequestLeftRailLayout.react",["react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||(i=d("react"))).unstable_useMemoCache,k=i,l={desktopRoot:{minWidth:"xwqvltr",$$css:!0},messageRequestsRoot:{borderEndColor:"xopu45v",borderEndStyle:"xu3j5b3",borderEndWidth:"xm81vs4",boxSizing:"x1afcbsf",display:"x78zum5",flexDirection:"xdt5ytf",minHeight:"x1us19tq",position:"x1n2onr6",width:"xh8yej3",$$css:!0},mobileRoot:{borderEndWidth:"xcfux6l",height:"x1dr59a3",$$css:!0},page:{display:"x78zum5",height:"x5yr21d",width:"xh8yej3",$$css:!0},root:{backgroundColor:"xvbhtw8",height:"x5yr21d",outline:"x1a2a7pz",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function a(a){var b=j(9),d=a.children;a=a.isMobile;d=d;a=(a=a)!=null?a:!1;a=a?l.mobileRoot:l.desktopRoot;var e;b[0]!==a?(e=(h||(h=c("stylex")))(l.root,a),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a="x78zum5 x5yr21d xh8yej3",b[2]=a):a=b[2];var f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f="xopu45v xu3j5b3 xm81vs4 x1afcbsf x78zum5 xdt5ytf x1us19tq x1n2onr6 xh8yej3",b[3]=f):f=b[3];b[4]!==d?(a=k.jsx("div",{className:a,children:k.jsx("div",{className:f,children:d})}),b[4]=d,b[5]=a):a=b[5];b[6]!==e||b[7]!==a?(f=k.jsx("div",{className:e,children:a}),b[6]=e,b[7]=a,b[8]=f):f=b[8];return f}function b(a){var b=j(3);a=a.children;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x78zum5 xdt5ytf xl56j7k x1dc814f xyinxu5 xxbr6pl x1g2khh7 xbbxn1n x2b8uid",b[0]=c):c=b[0];b[1]!==a?(c=k.jsx("div",{className:c,children:a}),b[1]=a,b[2]=c):c=b[2];return c}function e(a){var b=j(3);a=a.children;a=a;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x6s0dn4 xvbhtw8 x78zum5 xl56j7k xyamay9 x4uap5 x1l90r2v xkhd6sd x2b8uid xh8yej3",b[0]=c):c=b[0];b[1]!==a?(c=k.jsx("div",{className:c,children:a}),b[1]=a,b[2]=c):c=b[2];return c}g.Container=a;g.InfoBox=b;g.Footer=e}),98);
__d("MWEncryptedBackupsIssueRangeQueryDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWEncryptedBackupsIssueRangeQuery").__setRef("MWEncryptedBackupsIssueRangeQueryDeferred");function a(a){var b=a.db,c=a.newerNumMessages,d=a.numMessages,e=a.sortOrderMs,f=a.threadId;h.onReady(function(a){a.runQuery(b,f,e,d,c)})}g.issueRangeQueryDeferred=a}),98);
__d("MAWFetchCutoverMessages",["I64","LSFactory","LSIssueMessagesRangeQueryStoredProcedure","MAWBridgeSendAndReceive","MAWDbMsg","MAWInternalLog","MAWMiActOnActThreadReady","MWEncryptedBackupsIssueRangeQueryDeferred","Promise","ReQL","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["useFetchSecureMessages: threadJid: "," threadId: "," minMsgSortOrderTsResponse ",""]);j=function(){return a};return a}function k(a,d,e,f){return a.runInTransaction(function(a){return f!=null&&e!=null?c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(a),{direction:d,referenceTimestampMs:e.minTimestampMs,threadKey:f}):(i||(i=b("Promise"))).resolve()},"readwrite")}function a(a,b,c,d){return l.apply(this,arguments)}function l(){l=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,e){var f=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.messages_ranges_v2__generated).getKeyRange(c))),g=(yield d("ReQL").firstAsync(e!=null?d("ReQL").fromTableAscending(a.tables.messages_ranges_v2__generated).getKeyRange(e):d("ReQL").empty()));if(f==null)return;var i=f.hasMoreBefore,l=d("MAWDbMsg").toMsgId(f.minMessageId);return d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,c,"MAWFetchMoreMessages",function(c,f,m){d("MAWInternalLog").internalLog("MAWFetchCutoverMessages: start loadMoreMsgs");return d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{chatJid:m,direction:"before",numMsgs:10,offsetMsgId:l,threadId:f}).then(function(c){d("MAWInternalLog").internalLog("MAWFetchCutoverMessages: response is "+c.hasMoreBefore.toString());if(c.hasMoreBefore)return;return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:l,threadId:f}).then(function(c){d("WATagsLogger").TAGS(["labyrinth_web","useFetchSecureMessages"]).LOG(j(),m,f,c.minMsgTimestampMs);d("MWEncryptedBackupsIssueRangeQueryDeferred").issueRangeQueryDeferred({db:a,newerNumMessages:(h||(h=d("I64"))).zero,numMessages:h.of_string("10"),sortOrderMs:h.of_float(c.minMsgTimestampMs),threadId:f});if(!i)return k(a,b,g,e)})})})});return l.apply(this,arguments)}g["default"]=a}),98);
__d("MAWFetchSecureMessages",["I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWInternalLog","MAWMiActOnActThreadReady","MWEncryptedBackupsIssueRangeQueryDeferred","ReQL","WATagsLogger","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWFetchSecureMessages: threadJid: "," threadId: "," minMsgSortOrderTsResponse ",""]);i=function(){return a};return a}var j=10;function a(a,b,c,d,e,f,g){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,e,f,g,k,l){k===void 0&&(k=j);var m=l.addQPLAnnotations,n=l.markQPLFailure,o=l.markQPLPoint,p=l.markQPLStart;l=l.markQPLSuccess;var q=p();function r(a){o(q,"load_more_msgs_success","successfully loaded messages from worker"),m(q,a)}d("MAWInternalLog").internalLog("MAWFetchSecureMessages: started to get message range");o(q,"before_start_load_more_msgs","before fetching messages range from table");m(q,{string:babelHelpers["extends"]({direction:g,thread_id:(h||(h=d("I64"))).to_string(e)},f!=null?{thread_type:(h||(h=d("I64"))).to_string(f)}:{})});p=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.messages_ranges_v2__generated).getKeyRange(e)));try{if(p!=null&&!p.isLoadingBefore&&g==="before"){o(q,"start_load_more_msgs","starting the load more QPL event");f=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,e,"MAWFetchMoreMessages"));var s=f.chatId;f=f.chatJid;d("MAWInternalLog").internalLog("MAWFetchSecureMessages: put message range");o(q,"put_message_range","put txn in messages_ranges_v2__generated table");yield b.messages_ranges_v2__generated.put({hasMoreAfter:p.hasMoreAfter,hasMoreBefore:p.hasMoreBefore,isLoadingAfter:p.isLoadingAfter,isLoadingBefore:!0,maxMessageId:p.maxMessageId,maxTimestampMs:p.maxTimestampMs,minMessageId:p.minMessageId,minTimestampMs:p.minTimestampMs,threadKey:p.threadKey});d("MAWInternalLog").internalLog("MAWFetchSecureMessages: loadMoreMsgs started");o(q,"send_loadMoreMsgs_to_backend","calling backend with loadMoreMsgs");var t=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{chatJid:f,direction:g,numMsgs:k,offsetMsgId:d("MAWDbMsg").toMsgId(p.minMessageId),threadId:s}));d("MAWInternalLog").internalLog("MAWFetchSecureMessages: response is "+t.hasMoreBefore.toString());r({bool:{hasMoreBefore:t.hasMoreBefore}});if(t.hasMoreBefore){l(q);return}t=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getMaybeNextNonAdminMsgSortOrderMs",{mayBeAdminMsgId:d("MAWDbMsg").toMsgId(p.minMessageId),threadId:s}));d("WATagsLogger").TAGS(["labyrinth_web","MAWFetchSecureMessages"]).LOG(i(),f,s,t.minMsgTimestampMs);o(q,"issued_range_query","MAWFetchSecureMessages: minMsgSortOrderTsResponse "+t.minMsgTimestampMs);l(q);return d("MWEncryptedBackupsIssueRangeQueryDeferred").issueRangeQueryDeferred({db:a,newerNumMessages:(h||(h=d("I64"))).zero,numMessages:h.of_int32(k),sortOrderMs:h.of_float(t.minMsgTimestampMs),threadId:s})}if(c("gkx")("24143")&&p!=null&&!p.isLoadingAfter&&g==="after"){o(q,"start_load_more_msgs","starting the load more QPL event");f=(yield d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,e,"MAWFetchMoreMessages"));t=f.chatId;s=f.chatJid;d("MAWInternalLog").internalLog("MAWFetchSecureMessages: put message range");yield b.messages_ranges_v2__generated.put({hasMoreAfter:p.hasMoreAfter,hasMoreBefore:p.hasMoreBefore,isLoadingAfter:!0,isLoadingBefore:p.isLoadingBefore,maxMessageId:p.maxMessageId,maxTimestampMs:p.maxTimestampMs,minMessageId:p.minMessageId,minTimestampMs:p.minTimestampMs,threadKey:p.threadKey});d("MAWInternalLog").internalLog("MAWFetchSecureMessages: loadMoreMsgs started");o(q,"send_loadMoreMsgs_to_backend","MAWFetchSecureMessages: loadMoreMsgs started");g=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMsgs",{chatJid:s,direction:"after",numMsgs:k,offsetMsgId:d("MAWDbMsg").toMsgId(p.maxMessageId),threadId:t}));r({bool:{hasMoreAfter:g.hasMoreAfter}});d("MAWInternalLog").internalLog("MAWFetchSecureMessages: response is "+g.hasMoreAfter.toString())}m(q,{bool:{isLoadingAfter:p==null?void 0:p.isLoadingAfter,isLoadingBefore:p==null?void 0:p.isLoadingBefore}});o(q,"already_loading_messages","end the load more QPL event.");l(q)}catch(a){n(q,a)}});return k.apply(this,arguments)}g["default"]=a}),98);
__d("MAWQPLLogger",["QPLUserFlow","Random"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{addQPLAnnotations:function(b,d){c("QPLUserFlow").addAnnotations(a,d,{instanceKey:b})},markQPLCancel:function(b){c("QPLUserFlow").endCancel(a,{instanceKey:b})},markQPLFailure:function(b,d){c("QPLUserFlow").endFailure(a,d.name,{error:d,instanceKey:b})},markQPLFailureWithMsg:function(b,d){c("QPLUserFlow").endFailure(a,d,{instanceKey:b})},markQPLPoint:function(b,d,e){c("QPLUserFlow").addPoint(a,d,{debugInfo:e,instanceKey:b})},markQPLStart:function(){var b=Date.now()+(Math.round(d("Random").random()*1e4)+1e4);c("QPLUserFlow").start(a,{instanceKey:b});return b},markQPLSuccess:function(b){c("QPLUserFlow").endSuccess(a,{instanceKey:b})}}}g["default"]=a}),98);
__d("useMAWQPLLogger",["MAWQPLLogger","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a){return i(function(){return c("MAWQPLLogger")(a)},[a])}g.useMAWQPLLogger=a}),98);
__d("MAWFetchMoreMessages",["Int64Hooks","MAWFetchCutoverMessages","MAWFetchSecureMessages","cr:8731","promiseDone","qpl","useMAWQPLLogger","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=(h||(h=c("useReStore")))();return d("Int64Hooks").useCallbackInt64(function(d){c("promiseDone")(c("MAWFetchCutoverMessages")(f,d,a,b))},[f,a,b])}function e(){return d("Int64Hooks").useMemoInt64(function(){return new(b("cr:8731"))()},[])}function f(a){var b=(h||(h=c("useReStore")))(),e=d("useMAWQPLLogger").useMAWQPLLogger(c("qpl")._(25303796,"1974"));return d("Int64Hooks").useCallbackInt64(function(d,f,g,h){return c("MAWFetchSecureMessages")(b,d,f,a,g,h,e)},[b,e,a])}g.useFetchCutoverMessages=a;g.useSecureDataStorage=e;g.useFetchSecureMessages=f}),98);
__d("PolarisDirectInbox.react",["IGDInboxContextProviders.react","IGDInboxLeftRail.react","IGDInboxRoot.react","IGDMessageRequestLeftRail.react","IGDPageSetup.react","IGDShell.react","PolarisDirectInboxMetaManager.react","PolarisDirectStrings","cr:3279","react","useRoutePassthroughProps"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||(h=d("react"))).unstable_useMemoCache,j=h;function a(a){var e=i(11),f=a.inboxTrayEntrypoint;a=a.placeholder;var g=c("useRoutePassthroughProps")();g=g!=null&&(g.entryPoint==="pendingRequests"||g.entryPoint==="inboxSpam");var h;e[0]!==g||e[1]!==f?(h=g?j.jsx(c("IGDMessageRequestLeftRail.react"),{}):j.jsx(c("IGDInboxLeftRail.react"),{inboxTrayEntrypoint:f}),e[0]=g,e[1]=f,e[2]=h):h=e[2];g=h;e[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=b("cr:3279"),e[3]=f):f=e[3];h=f;e[4]!==g?(f=h?j.jsxs(h,{children:[j.jsx(c("PolarisDirectInboxMetaManager.react"),{id:"DirectThreadPage",title:d("PolarisDirectStrings").INBOX_STRING}),j.jsx(c("IGDInboxRoot.react"),{leftRail:g})]}):j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisDirectInboxMetaManager.react"),{id:"DirectThreadPage",title:d("PolarisDirectStrings").INBOX_STRING}),j.jsx(c("IGDInboxRoot.react"),{leftRail:g})]}),e[4]=g,e[5]=f):f=e[5];e[6]!==f?(h=j.jsx(d("IGDInboxContextProviders.react").IGDInboxContextProviders,{children:f}),e[6]=f,e[7]=h):h=e[7];e[8]!==a||e[9]!==h?(g=j.jsx(c("IGDShell.react"),{children:j.jsx(c("IGDPageSetup.react"),{placeholder:a,children:h})}),e[8]=a,e[9]=h,e[10]=g):g=e[10];return g}g["default"]=a}),98);
__d("PolarisLexicalMentionsPlugin.old.react",["Lexical","LexicalComposerContext","LexicalUtils","PolarisIGHashtagRegex","PolarisIGUsernameRegex","PolarisLexicalMentionNode","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.unstable_useMemoCache;c="([a-zA-Z0-9_.]+)";var k=new RegExp(d("PolarisIGUsernameRegex").MENTIONS_PRE+d("PolarisIGUsernameRegex").MENTIONS_MARKER+c,"ig");function a(){var a=j(3),b=d("LexicalComposerContext").useLexicalComposerContext(),c=b[0],e;a[0]!==c?(b=function(){var a=c.registerNodeTransform(d("Lexical").TextNode,function(a){if(!a.isSimpleText())return;var b=a.getTextContent();b=b.matchAll(k);for(var b=b,c=Array.isArray(b),e=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var f;if(c){if(e>=b.length)break;f=b[e++]}else{e=b.next();if(e.done)break;f=e.value}f=f;if(f&&f.index!==void 0){var g=f[1],h=f[2],i=f[3];h=h+i;i=a==null?void 0:a.getPreviousSibling();if(g.length<1&&i!=null&&!d("Lexical").$isLineBreakNode(i))continue;g=f.index+f[1].length;if(g===0){i=a.splitText(g,g+h.length);f=i[0]}else{i=a.splitText(g,g+h.length);g=i[1];f=g}h=d("PolarisLexicalMentionNode").$createPolarisLexicalMentionNode(f.getTextContent());f.replace(h);return}}}),b=c.registerNodeTransform(d("PolarisLexicalMentionNode").PolarisLexicalMentionNode,function(a){var b=a.getTextContent(),c=Array.from(b.matchAll(k));if(c.length===0)a.replace(d("Lexical").$createTextNode(a.getTextContent()));else if(c.length===1){var e=c[0],f=e[1];f.length<1&&d("PolarisLexicalMentionNode").$isPolarisLexicalMentionNode(a.getPreviousSibling())&&a.replace(d("Lexical").$createTextNode(a.getTextContent()));e.input.length>e[0].length&&a.splitText(e[0].length)}else if(c.length>1)for(f=0;f<c.length;f++){e=c[f];e&&e.index!==void 0&&a.splitText(e.index+e[0].length)}e=b.matchAll(new RegExp(d("PolarisIGHashtagRegex").HASH_CHARS+"|"+d("PolarisIGUsernameRegex").MENTIONS_MARKER+"|\\s","gi"));for(f=e,c=Array.isArray(f),b=0,f=c?f:f[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){if(c){if(b>=f.length)break;e=f[b++]}else{b=f.next();if(b.done)break;e=b.value}e=e;e&&e.index!==void 0&&a.splitText(e.index)}});return d("LexicalUtils").mergeRegister(a,b)},e=[c],a[0]=c,a[1]=b,a[2]=e):(b=a[1],e=a[2]);i(b,e);return null}g["default"]=a}),98);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
*
* @fullSyntaxTransform
* @generated
* @noflow
* @nolint
* @oncall lexical_web_text_editor
* @preserve-invariant-messages
* @preserve-whitespace
* @preventMunge
 */__d("LexicalComposer.prod",["Lexical","LexicalComposerContext","react"],(function $module_LexicalComposer_prod(global,require,requireDynamic,requireLazy,module,exports){
'use strict';var _require_closure_react;var g=_require_closure_react||(_require_closure_react=require("react"));var m="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;var n=m?g.useLayoutEffect:g.useEffect;var p={tag:"history-merge"};
function q(a,c){if(null!==c)if(void 0===c)a.update(function(){var b=require("Lexical").$getRoot();if(b.isEmpty()){var d=require("Lexical").$createParagraphNode();b.append(d);b=m?document.activeElement:null;(null!==require("Lexical").$getSelection()||null!==b&&b===a.getRootElement())&&d.select();}},p);else if(null!==c)switch(typeof c){case"string":var b=a.parseEditorState(c);a.setEditorState(b,p);break;case"object":a.setEditorState(c,p);break;case"function":a.update(function(){require("Lexical").$getRoot().isEmpty()&&c(a);},p);}}
exports.LexicalComposer=function(_ref){var a=_ref.initialConfig,c=_ref.children;var b=g.useMemo(function(){var d=a.theme,h=a.namespace,r=a.editor__DEPRECATED,t=a.nodes,u=a.onError,v=a.editorState,w=a.html,x=require("LexicalComposerContext").createLexicalComposerContext(null,d);var k=r||null;if(null===k){var l=require("Lexical").createEditor({editable:a.editable,html:w,namespace:h,nodes:t,onError:function onError(y){return u(y,l);},theme:d});q(l,v);k=l;}return[k,x];},[]);n(function(){var d=a.editable,h=b[0];h.setEditable(void 0!==d?d:!0);},[]);return g.createElement(require("LexicalComposerContext").LexicalComposerContext.Provider,{value:b},
c);};}),null);